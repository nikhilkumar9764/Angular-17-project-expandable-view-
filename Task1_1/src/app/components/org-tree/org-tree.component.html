<div class="org-tree-container">
    <!-- Header -->
    <div class="header">
      <h1>üè¢ Company Organizational Structure</h1>
      <div class="header-actions">
        <button class="action-btn" (click)="expandAll()">
          <span>üìñ</span> Expand All
        </button>
        <button class="action-btn" (click)="collapseAll()">
          <span>üìï</span> Collapse All
        </button>
        <button class="action-btn primary" (click)="toggleDetailsPanel()">
          <span>‚ÑπÔ∏è</span> {{ showNodeDetails ? 'Hide' : 'Show' }} Details
        </button>
      </div>
    </div>
  
    <!-- Tree View -->
    <div class="tree-view">
      <app-org-node 
        *ngIf="orgData"
        [node]="orgData"
        (nodeClick)="onNodeClick($event)"
        (toggleExpand)="onToggleExpand($event)">
      </app-org-node>
    </div>
  
    <!-- Selected Node Details Panel -->
    <div class="details-panel" *ngIf="selectedNode && showNodeDetails">
      <div class="details-header">
        <h3>Employee Details</h3>
        <button class="close-btn" (click)="closeDetails()">√ó</button>
      </div>
      <div class="details-content">
        <div class="detail-item">
          <span class="detail-label">Name:</span>
          <span class="detail-value">{{ selectedNode.name }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Position:</span>
          <span class="detail-value">{{ selectedNode.position }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Department:</span>
          <span class="detail-value">{{ selectedNode.department }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Email:</span>
          <span class="detail-value">{{ selectedNode.email }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Phone:</span>
          <span class="detail-value">{{ selectedNode.phone }}</span>
        </div>
        <div class="detail-item" *ngIf="selectedNode.children">
          <span class="detail-label">Direct Reports:</span>
          <span class="detail-value">{{ selectedNode.children.length }}</span>
        </div>
      </div>
    </div>
  
    <!-- Stats Footer -->
    <div class="stats-footer">
      <div class="stat-card">
        <div class="stat-value">{{ totalEmployees }}</div>
        <div class="stat-label">Total Employees</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{{ totalDepartments }}</div>
        <div class="stat-label">Departments</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{{ maxDepth }}</div>
        <div class="stat-label">Hierarchy Levels</div>
      </div>
    </div>
  </div>
  